<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blackjack 21</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="rulesScreen" class="rules-screen">
    <div class="rules-content">
      <h1>Regras do Blackjack 21</h1>
      <h2>Instruções e Conceitos Matemáticos</h2>
      <p><strong>Objetivo:</strong> Chegar o mais próximo possível de 21 sem ultrapassar, vencendo o dealer.</p>
      <p><strong>Valores das Cartas:</strong> Ás = 11 (ou 1 se necessário), 10/J/Q/K = 10, outras = valor nominal.</p>
      <h3>Probabilidades e Porcentagens:</h3>
      <ul>
        <li><strong>Probabilidade de BUST (estourar):</strong> Calcule a chance de ultrapassar 21 ao pedir uma carta. Por exemplo, se sua mão soma 17, há cartas que podem fazer você bustar (ex: 5+ = 22). Use porcentagens para decidir: se >50% chance de bustar, considere parar.</li>
        <li><strong>Combinações de Mãos:</strong> Blackjack (ÁS + 10) paga 3:2. Pares podem ser divididos. Calcule combinações possíveis: com 2 baralhos, probabilidade de blackjack inicial é ~4.8%.</li>
        <li><strong>Estratégia Básica:</strong> Com base em porcentagens, pare se sua mão for 17+ (baixa chance de melhorar sem bustar). Peça se <12. Considere a carta visível do dealer: se ele tem 7+, risque pedir se você tem 12-16.</li>
      </ul>
      <p><strong>Apostas:</strong> Escolha fichas, clique "Entrar" para começar a rodada. Use matemática para gerenciar seu saldo!</p>
      <p><strong>Dica:</strong> Pratique cálculos de probabilidade para tomar decisões inteligentes.</p>
      <button id="playBtn" class="play-button">Jogar</button>
      <button id="closeRulesBtn" class="close-rules-button">Fechar</button>
    </div>
  </div>
  <div id="app" style="display: none;">
    <header class="topbar">
      <div class="controls-left">
        <label>Baralhos:
          <select id="decksSelect">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="4">4</option>
            <option value="6" selected>6</option>
            <option value="8">8</option>
          </select>
        </label>
        <button id="rulesBtn" class="rules-button">Regras</button>
      </div>
      <div class="controls-right">
        <div class="bankroll">Saldo: $<span id="bankroll">1000</span></div>
        <div class="bet">Aposta: $<span id="betAmount">0</span></div>
        <button id="clearBet" class="secondary">Limpar</button>
      </div>
    </header>

    <main class="table">
      <img class="felt" src="table.jpg" alt="Mesa" />

      <div class="table-banner banner-top">BLACKJACK</div>

      <section class="dealer-area">
        <div class="hand" id="dealerHand"></div>
        <div class="hand-total">Dealer: <span id="dealerTotal">0</span></div>
      </section>

      <section class="player-area">
        <div class="bet-circle" id="betCircle"></div>
        <div class="hand" id="playerHand"></div>
        <div class="hand-total">Você: <span id="playerTotal">0</span></div>
      </section>

      <aside class="right-panel">
        <div class="panel-box">
          <div>Estourar (%): <strong id="bustProb">0</strong></div>
          <div>Dica: <strong id="basicHint">-</strong></div>
        </div>
        <div class="panel-box chips-tray" id="chipsTray">
          <button class="chip" data-value="5" title="$5"><img src="static/chips/5.png" alt="5" /></button>
          <button class="chip" data-value="10" title="$10"><img src="static/chips/10.png" alt="10" /></button>
          <button class="chip" data-value="20" title="$20"><img src="static/chips/20.png" alt="20" /></button>
          <button class="chip" data-value="50" title="$50"><img src="static/chips/50.png" alt="50" /></button>
          <button class="chip" data-value="100" title="$100"><img src="static/chips/100.png" alt="100" /></button>
          <button class="chip" data-value="500" title="$500"><img src="static/chips/500.png" alt="500" /></button>
        </div>
        <div class="panel-box message" id="message">Pronto para jogar.</div>
      </aside>

      <div class="countdown overlay" id="countdown" aria-hidden="true">
        <svg viewBox="0 0 40 40">
          <circle class="bg" cx="20" cy="20" r="18"></circle>
          <circle class="progress" id="countdownCircle" cx="20" cy="20" r="18"></circle>
        </svg>
        <div class="countdown-number" id="countdownNumber">10</div>
      </div>


      <footer class="actions">
        <button id="dealBtn" class="primary">Entrar</button>
        <button id="hitBtn" disabled>Pedir</button>
        <button id="standBtn" disabled>Parar</button>
        <button id="doubleBtn" disabled>Dobrar</button>
        <button id="splitBtn" disabled>Dividir</button>
      </footer>
    </main>
  </div>

  <audio id="sndDeal" src="sounds/swish.m4a" preload="auto"></audio>
  <audio id="sndCard" src="sounds/tink.wav" preload="auto"></audio>
  <audio id="sndWin" src="sounds/cheer.wav" preload="auto"></audio>
  <audio id="sndLose" src="sounds/ohh.mp3" preload="auto"></audio>
  <audio id="sndPush" src="sounds/aww.mp3" preload="auto"></audio>
  <audio id="sndCash" src="sounds/cash.mp3" preload="auto"></audio>

  <script src="app.js"></script>
</body>
</html>

